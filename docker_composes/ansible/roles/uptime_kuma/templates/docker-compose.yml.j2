---
# GENERATED BY uptime_kuma ROLE!!!
services:
  uptime-kuma:
    image: louislam/uptime-kuma:beta
    container_name: {{ container_name }}
    labels:
      - traefik.enable=true
      - traefik.http.routers.{{ container_name }}.rule=Host(`${URL}`)
      - traefik.http.routers.{{ container_name }}.entrypoints=websecure
      - traefik.http.routers.{{ container_name }}.tls=true
      - traefik.http.routers.{{ container_name }}.tls.certresolver=letsencrypt
    ports:
      - ${TAILSCALE_IPV4}:3001:3001
      - "[${TAILSCALE_IPV6}]:3001:3001"
    volumes:
      # Change './actual-data' below to the path to the folder you want Actual to store its data in on your server.
      # '/data' is the path Actual will look for its files in by default, so leave that as-is.
      - {{ ansible_env.HOME }}/docker/composes/{{ container_name }}-docker/data/:/data
    networks:
      - {{ network_name }}
    restart: unless-stopped

networks:
  {{ network_name }}:
    external: true
